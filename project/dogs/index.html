<html lang="en">
<head>
  <title>grady.dev | Raison d&#39;être: le chien</title>
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">
  <meta name="viewport" content="width=device-width">
<style>

body {
  margin: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  font-family: Helvetica, sans-serif;
  line-height: 1.5rem;
}

h1 {
  font-size: 3rem;
  text-align: left;
  margin: 4rem 0 0rem 0;
  line-height: 3rem;
}

h4 {
  font-size: 1.5rem;
  text-align: left;
  margin: 1rem 0;
}

img {
  max-width: 100%;
}

.width-wrapper {
  width: Calc(100% - 2rem);
  max-width: 1000px;
  min-width: Calc(320px - 2rem);
  margin: 0 1rem 1rem 1rem;
  display: inline-block;
  position: relative;
  height: Calc(100% - 1rem);
}

.decorated-box {
  height:  auto;
  position:  relative;
}

.decorated-content {
  width:  Calc(100% - 16rem);
  top: 0;
  margin: 0rem 8rem 0;
  padding:  1rem 0 2rem 0;
  text-align: left;
  font-size: 1.5rem;
  line-height: 2.25rem;
}

.vertical {
  position: absolute;
  height: Calc(100% - 1rem);
  width: 8rem;
  top: 0;
}
.left.vertical {
  left:  0;
}
.right.vertical {
  right:  0;
}

.horizontal {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 1rem;
}
.horizontal > div {
  width:  100%;
}

* {
  color: #272727;
}

.black {
  background: #272727;
}

.red {
  background: #d20909;
}

.yellow {
  background: #eac40a;
}

.blue {
  background: #1444b1;
}

.black,
.red,
.blue,
.yellow {
  display: block;
  position: absolute;
  width: 1rem;
  height: 1rem;
  transition: width .5s linear, height .5s linear;
}

.vertical > div {
  height: Calc(100% - 1rem);
  top: .5rem;
}

.vertical > div.has-top {
  top: -1rem;
  height: Calc(100% + .5rem);
}

.vertical > div.has-bottom {
  top: .5rem;
  height: Calc(100% + .5rem);
}

.vertical > div.has-bottom.has-top {
  top: -1rem;
  height: Calc(100% + 2rem);
}

.pos-0 { left: 0rem; }
.pos-1 { left: 2rem; }
.pos-2 { left: 4rem; }
.pos-3 { left: 6rem; }
.pos-4 { right: 6rem; }
.pos-5 { right: 4rem; }
.pos-6 { right: 2rem; }
.pos-7 { right: 0rem; }


.from-0 { left: 1rem; }
.from-1 { left: 3rem; }
.from-2 { left: 5rem; }
.from-3 { left: 7rem; }
.from-4 { right: 7rem; }
.from-5 { right: 5rem; }
.from-6 { right: 3rem; }
.from-7 { right: 1rem; }

.from-3.to-4,
.from-4.to-3 {
    width: Calc(100% - 14rem);
}

.from-2.to-4,
.from-3.to-5,
.from-4.to-2,
.from-5.to-3 {
    width: Calc(100% - 12rem);
}

.from-1.to-4,
.from-2.to-5,
.from-3.to-6,
.from-4.to-1,
.from-5.to-2,
.from-6.to-3 {
    width: Calc(100% - 10rem);
}

.from-0.to-4,
.from-1.to-5,
.from-2.to-6,
.from-3.to-7,
.from-4.to-0,
.from-5.to-1,
.from-6.to-2,
.from-7.to-3 {
    width: Calc(100% - 8rem);
}

.from-0.to-5,
.from-1.to-6,
.from-2.to-7,
.from-5.to-0,
.from-6.to-1,
.from-7.to-2 {
    width: Calc(100% - 6rem);
}

.from-0.to-6,
.from-1.to-7,
.from-6.to-0,
.from-7.to-1 {
    width: Calc(100% - 4rem);
}

.from-0.to-7,
.from-7.to-0 {
    width: Calc(100% - 2rem);
}


.sr-only {
  position:absolute;
  left:-10000px;
  top:auto;
  width:1px;
  height:1px;
  overflow:hidden;
}

@media only screen and (max-width: 800px) {
  html {
    font-size: 8px;
  }

  .decorated-content {
    font-size: 2.5rem;
    line-height: 3rem;
  }

  h4 {
      font-size: 3rem;
  }

  h1 {
      font-size: 5rem;
      line-height:  6rem;
  }
}

@media only screen and (max-width: 500px) {
  html {
    font-size: 6px;
  }

  .decorated-content {
    font-size: 3rem;
    line-height: 3.5rem;
  }
}

@media only screen and (max-width: 360px) {
  .decorated-content {
    font-size: 2.5rem;
    line-height: 3rem;
  }
}


   


</style>
<body>
<div class="sr-only"><a href="#main">Skip to content</a></div>
<div class="width-wrapper pre-transition" id="width-wrapper">
<header class="decorated-box">
  <div aria-hidden="true" class="left vertical"></div>
  <div class="decorated-content">
    <nav><a href="..">Back</a></nav>
    <h1> Raison d&#39;être: le chien</h1>
  </div>
  <div aria-hidden="true" class="right vertical"></div>
  <div aria-hidden="true" class="horizontal"></div>
</header>

<main id="main">



  


  
    <div class="decorated-box">
      <div aria-hidden="true" class="left vertical"></div>
      <div class="decorated-content">
        As a middle-schooler untethered from proscribed answers (I was raised without any connection to, or real awareness of religion), I dreaded the few dark minutes between bedtime and sleep. I&rsquo;d zoom back from myself - the practiced lens of the NOVA documentaries that I loved at that age - losing myself in the big questions, the vastness of space, and the darkness in front of my eyes: Why was I here? Would my short, finite life mean anything? What could meaning be in such a large empty universe?
      </div>
      <div aria-hidden="true" class="right vertical"></div>
      <div aria-hidden="true" class="horizontal"></div>
    </div>
  


  
    <div class="decorated-box">
      <div aria-hidden="true" class="left vertical"></div>
      <div class="decorated-content">
        Folks tend to have one of three relationships to the hardest questions: (a) belief in the answers of others, (b) avoidance, or (c) fixation. I was (c) all the way. For me, as for many others, the unimaginable scale of the universe was the fertile ground for existential dread in the same way that it served as a crucible for life: as an inevitable consequence of selective pressure. I struggled with this set of questions for a long time - middle school, high school, even parts of college. I was constantly trying (and constantly failing) to convince myself of the less grim answers to these unavoidable questions. I didn&rsquo;t want to be a nihilist, but I couldn&rsquo;t find a reason not to be.
      </div>
      <div aria-hidden="true" class="right vertical"></div>
      <div aria-hidden="true" class="horizontal"></div>
    </div>
  


  
    <div class="decorated-box">
      <div aria-hidden="true" class="left vertical"></div>
      <div class="decorated-content">
        Eventually I discovered another, one that I find much more convincing, robust, and comprehensive. <strong>The key for me was dogs.</strong>
      </div>
      <div aria-hidden="true" class="right vertical"></div>
      <div aria-hidden="true" class="horizontal"></div>
    </div>
  


  
    <div class="decorated-box">
      <div aria-hidden="true" class="left vertical"></div>
      <div class="decorated-content">
        As a kid, while I&rsquo;d happily cross the street to pet a friendly dog, yips from coyotes could make my skin crawl with fear. These two canines are closely related, so how did my differential reaction come to be? It&rsquo;s simple: previous generations took something hazardous (wolves, coyotes, wild dogs), and through the successive application of effort of hundreds of thousands of humans, over a timeline of centuries, <em>they produced a world that was better</em>, both for me, and most of the people alive today. They made a world of labs and corgis and doodles, molded from one of wolves. That is remarkable. <strong>Only human effort engineered man&rsquo;s best friend</strong> - mine is resting his head on my knee as it bounces from the keystrokes. He is lightly annoyed by the jostling, but happy to be close to me. I am happy to be close to him, too.
      </div>
      <div aria-hidden="true" class="right vertical"></div>
      <div aria-hidden="true" class="horizontal"></div>
    </div>
  


  
    <div class="decorated-box">
      <div aria-hidden="true" class="left vertical"></div>
      <div class="decorated-content">
        The seed of this observation (dogs - wolves = human effort) sprouted two perspectives within me.
      </div>
      <div aria-hidden="true" class="right vertical"></div>
      <div aria-hidden="true" class="horizontal"></div>
    </div>
  


  
    <div class="decorated-box">
      <div aria-hidden="true" class="left vertical"></div>
      <div class="decorated-content">
        The first is an overwhelming gratitude - for the dog snuggled on this couch, for the house I did not build, wire or plumb, for the marvels of the internationalized economy that makes everything I&rsquo;ll ever own possible, for a social and economic system that enables freedom and growth, and for the layer cake of open-sourced software that comprises technological life. To be literal, I thank the ancestors - the literal people, who stone by brick by plank by beam by wire by chip by package imagined, designed, collaborated and built world after successive world where their children could live better than they could. To be figurative, I see a knotted, divergent quilt stretches back toward a hazy horizon - each patch forged by the sweat of people like me - most patches making things incrementally better for the builders of the next one - most tightly woven into their neighbors. When I fixate too much on this visualization it can routinely make my cry (the only other thing that can is pondering the limited lifespan of my dog). My gratitude overwhelms me. I did nothing to inherit a comfortable world, nor anything to deserve this dog. What gifts!
      </div>
      <div aria-hidden="true" class="right vertical"></div>
      <div aria-hidden="true" class="horizontal"></div>
    </div>
  


  
    <div class="decorated-box">
      <div aria-hidden="true" class="left vertical"></div>
      <div class="decorated-content">
        The second perspective is a grim responsibility. The world as it has been handed to us is a bounty: in technologies, in goods, in liberties, in kindnesses. On a societal level, this inheritance is both finite and brittle. Without effort, without collaboration, without shared purpose, without selflessness, we may yet squander it, rather than adding to it. On a personal level, it is easy to feel useless.
      </div>
      <div aria-hidden="true" class="right vertical"></div>
      <div aria-hidden="true" class="horizontal"></div>
    </div>
  


  
    <div class="decorated-box">
      <div aria-hidden="true" class="left vertical"></div>
      <div class="decorated-content">
        The gravity of this perspective is daunting, but grounding. I see the people in my life affixing their patches all the time. A doctor cares for the elderly, a scientist studies a disease, a construction worker builds a home, a lawyer tries to right an injustice, a couple starts a family. I see it in others too: a father decides to break the cycle of abuse he was caught in. An engineer shares their new idea with the world. A neighbor invites their neighbors over for dinner. A teacher bears hardship for their pupils. There are a million ways to serve one another, and every day, people do them. It&rsquo;s quiet. It&rsquo;s everywhere. It&rsquo;s in our nature. The impulse to help, to build, to share, is our social fabric - it&rsquo;s why we&rsquo;re here. It&rsquo;s why we matter.
      </div>
      <div aria-hidden="true" class="right vertical"></div>
      <div aria-hidden="true" class="horizontal"></div>
    </div>
  


  
    <div class="decorated-box">
      <div aria-hidden="true" class="left vertical"></div>
      <div class="decorated-content">
        This idea calms my restless mind at night, and informs my career, my relationships, and my choices. While it doesn&rsquo;t proscribe action, it is an unmistakable clarion: <strong>do good for the present and the future, you owe it to the past</strong>.
      </div>
      <div aria-hidden="true" class="right vertical"></div>
      <div aria-hidden="true" class="horizontal"></div>
    </div>
  


  
    <div class="decorated-box">
      <div aria-hidden="true" class="left vertical"></div>
      <div class="decorated-content">
        So, what will you do? What little patch will you affix to this great quilt? What do you owe the past? What can you offer to the present? What will you promise the future?
      </div>
      <div aria-hidden="true" class="right vertical"></div>
      <div aria-hidden="true" class="horizontal"></div>
    </div>
  


  
    <div class="decorated-box">
      <div aria-hidden="true" class="left vertical"></div>
      <div class="decorated-content">
        Or said another way, how will you (how could any of us) possibly repay the greatest gift, man&rsquo;s best friend?
      </div>
      <div aria-hidden="true" class="right vertical"></div>
      <div aria-hidden="true" class="horizontal"></div>
    </div>
  

</main>

<div aria-hidden="true" class="decorated-box">
  <div class="left vertical"></div>
  <p class="decorated-content">
  </p>
  <div class="right vertical"></div>
  <div class="horizontal"></div>
</div>
</div>
<script>
  var wrapper = document.getElementById("width-wrapper");
  wrapper.classList.remove("pre-transition");

  var EMPTY = "empty";

  function randomInitialAssignment() {
    return ["red", "black", "yellow", "blue", EMPTY, EMPTY, EMPTY, EMPTY]
  }

  function couldSwapPair(assignment, from, to) {
    if (from < 4 == to < 4){
      return false;
    }
    if (assignment[to] != EMPTY || assignment[from] == EMPTY) {
      return false;
    }
    return true;
  }

  function randomPairToSwap(assignment) {
    var fromIndexOfPopulated = Math.floor(4 * Math.random());
    var fromIndex = -1;
    for (var i = 0; i < 8; i++) {
      if (assignment[i] != EMPTY) {
        if (fromIndexOfPopulated == 0) {
          fromIndex = i;
          break;
        }
        fromIndexOfPopulated--;
      }
    }
    var numEmptyOnOtherSide = 0;
    var otherSideStart = fromIndex < 4 ? 4 : 0;
    for (var i = 0; i < 4; i++) {
      if (assignment[i + otherSideStart] == EMPTY) {
        numEmptyOnOtherSide++;
      }
    }
    var toIndexOnOtherSideOfPopulated = Math.floor(numEmptyOnOtherSide * Math.random());
    var toIndex = -1;
    for (var i = otherSideStart; i < otherSideStart + 4; i++) {
      if (assignment[i] == EMPTY) {
        if (toIndexOnOtherSideOfPopulated == 0) {
          toIndex = i;
          break;
        }
        toIndexOnOtherSideOfPopulated--;
      }
    }
    return {
      "origin": fromIndex,
      "destination": toIndex
    };
  }

  function createParagraphAssignments(numParagraphs) {
    var paragraphAssignments = [];
    paragraphAssignments[0] = randomInitialAssignment();
    for (var i = 1; i < numParagraphs; i++) {
      var pairToSwap = randomPairToSwap(paragraphAssignments[i-1]);
      var newAssignment = [];
      Object.assign(newAssignment, paragraphAssignments[i-1]);
      newAssignment[pairToSwap.destination] = newAssignment[pairToSwap.origin];
      newAssignment[pairToSwap.origin] = EMPTY;
      newAssignment.origin = pairToSwap.origin;
      newAssignment.destination = pairToSwap.destination;
      paragraphAssignments.push(newAssignment);
    }
    for (var i = 0; i < numParagraphs - 1; i++) {
      paragraphAssignments[i].origin = paragraphAssignments[i+1].origin;
      paragraphAssignments[i].destination = paragraphAssignments[i+1].destination;
    }
    paragraphAssignments[numParagraphs-1].origin = -1;
    paragraphAssignments[numParagraphs-1].destination = -1;

    return paragraphAssignments;
  }

  function isInBetween(a, b, c){
    return ((a < b) == (b < c));
  }

  function assignAssignmentToParagraphBox(lastAssignment, assignment, box) {

    var bottomSidebar = box.getElementsByClassName('horizontal')[0];
    var classesForBottom = assignment[assignment.origin] + " from-" + assignment.origin + " to-" + assignment.destination;
    var bottomSidebarHtml = "<div class=\"" + classesForBottom + "\"></div>";
    bottomSidebar.innerHTML = bottomSidebarHtml;

    var leftSidebarHtml = "";
    for (var i = 0; i < 4; i++) {
      if (assignment[i] !== EMPTY) {
        var classesToAdd = assignment[i] + " pos-" + i;
        if (!isInBetween(lastAssignment.origin, i, lastAssignment.destination) || lastAssignment.destination == i){
          classesToAdd = classesToAdd + " has-top";
        }
        if (!isInBetween(assignment.origin, i, assignment.destination) || assignment.origin == i){
          classesToAdd = classesToAdd + " has-bottom";
        }
        leftSidebarHtml = leftSidebarHtml + '<div class="' +classesToAdd + '"></div>';
      }
    }
    var leftSidebar = box.getElementsByClassName('left')[0];
    leftSidebar.innerHTML = leftSidebarHtml;

    var rightSidebarHtml = "";
    for (var i = 4; i < 8; i++) {
      if (assignment[i] !== EMPTY) {
        var classesToAdd = assignment[i] + " pos-" + i;
        if (!isInBetween(lastAssignment.origin, i, lastAssignment.destination) || lastAssignment.destination == i){
          classesToAdd = classesToAdd + " has-top";
        }
        if (!isInBetween(assignment.origin, i, assignment.destination) || assignment.origin == i){
          classesToAdd = classesToAdd + " has-bottom";
        }
        rightSidebarHtml = rightSidebarHtml + '<div class="' +classesToAdd + '"></div>';
      }
    }
    var rightSidebar = box.getElementsByClassName('right')[0];
    rightSidebar.innerHTML = rightSidebarHtml;
  }

  var paragraphsBoxes = document.getElementsByClassName("decorated-box");
  var paragraphAssignments = createParagraphAssignments(paragraphsBoxes.length);
  console.log(paragraphAssignments);

  for (var i = 0; i < paragraphsBoxes.length; i++){
    var previous = {origin: -1, destination: -1};
    if (i > 0) {
      previous = paragraphAssignments[i - 1];
    }
    assignAssignmentToParagraphBox(previous, paragraphAssignments[i], paragraphsBoxes[i]);
  }
</script>
</body>
</html>
